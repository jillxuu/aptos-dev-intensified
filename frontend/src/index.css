@import url("https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&family=Orbitron:wght@400;700&family=Quicksand:wght@300;400;500;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  @keyframes gradient {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  body {
    @apply min-h-screen;
    background: linear-gradient(-45deg, #2dd8a7, #2d82d8, #1fb2a6, #374151);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
  }

  /* Base theme styles */
  [data-theme] {
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
  }

  /* Cyberpunk theme */
  [data-theme="cyberpunk"] {
    font-family: "Orbitron", sans-serif;
    background: linear-gradient(45deg, #ff00ff, #00ffff);
    color: white;
  }

  [data-theme="cyberpunk"]::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      linear-gradient(90deg, #000 1px, transparent 1px) 0 0 / 40px 40px,
      linear-gradient(0deg, #000 1px, transparent 1px) 0 0 / 40px 40px;
    opacity: 0.2;
    animation: gridMove 20s linear infinite;
    pointer-events: none;
  }

  [data-theme="cyberpunk"] .card-title {
    text-transform: uppercase;
    letter-spacing: 3px;
    text-shadow:
      2px 2px #ff00ff,
      -2px -2px #00ffff;
  }

  [data-theme="cyberpunk"] .chat-bubble {
    border: 2px solid rgba(255, 0, 255, 0.3);
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
  }

  /* Synthwave theme */
  [data-theme="synthwave"] {
    font-family: "VT323", monospace;
    background: linear-gradient(to bottom, #2b1055, #7597de);
    color: white;
  }

  [data-theme="synthwave"]::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      repeating-linear-gradient(
        90deg,
        transparent 0,
        transparent 40px,
        #ff2d95 40px,
        #ff2d95 41px
      ),
      repeating-linear-gradient(
        180deg,
        transparent 0,
        transparent 40px,
        #ff2d95 40px,
        #ff2d95 41px
      );
    opacity: 0.15;
    transform-origin: center center;
    animation: gridPerspective 20s linear infinite;
    pointer-events: none;
  }

  [data-theme="synthwave"] .card-title {
    font-size: 3.5rem;
    text-shadow:
      0 0 10px #ff2d95,
      0 0 20px #ff2d95,
      0 0 30px #ff2d95;
  }

  [data-theme="synthwave"] .chat-bubble {
    border: 1px solid rgba(255, 45, 149, 0.3);
    background: rgba(43, 16, 85, 0.7);
  }

  /* Retro theme */
  [data-theme="retro"] {
    font-family: "Press Start 2P", cursive;
    background: linear-gradient(45deg, #ffd700, #ff6b6b);
    color: black;
  }

  [data-theme="retro"]::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      radial-gradient(circle at 50% 50%, #000 2px, transparent 2px) 0 0 / 20px
        20px,
      radial-gradient(circle at 50% 50%, #000 2px, transparent 2px) 10px 10px /
        20px 20px;
    opacity: 0.1;
    animation: dotMove 10s linear infinite;
    pointer-events: none;
  }

  [data-theme="retro"] .card {
    border: 4px solid #000;
    box-shadow: 4px 4px 0 #000;
  }

  [data-theme="retro"] .chat-bubble {
    border: 2px solid #000;
    box-shadow: 2px 2px 0 #000;
    image-rendering: pixelated;
  }

  [data-theme="retro"] .btn {
    border: 2px solid #000;
    box-shadow: 2px 2px 0 #000;
  }

  /* Night theme */
  [data-theme="night"] {
    font-family: "Quicksand", sans-serif;
    background: linear-gradient(to bottom, #0a1929, #1a365d);
    color: white;
  }

  [data-theme="night"]::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
      radial-gradient(2px 2px at 40px 60px, #fff 50%, rgba(0, 0, 0, 0)),
      radial-gradient(2px 2px at 20px 50px, #fff6 50%, rgba(0, 0, 0, 0)),
      radial-gradient(2px 2px at 30px 100px, #fff5 50%, rgba(0, 0, 0, 0)),
      radial-gradient(2px 2px at 40px 60px, #fff4 50%, rgba(0, 0, 0, 0)),
      radial-gradient(2px 2px at 110px 90px, #fff3 50%, rgba(0, 0, 0, 0));
    background-repeat: repeat;
    background-size: 200px 200px;
    animation: twinkle 4s ease-in-out infinite alternate;
    opacity: 0.6;
    pointer-events: none;
  }

  [data-theme="night"] .card {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
  }

  [data-theme="night"] .chat-bubble {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Theme-specific component styles */
  [data-theme="cyberpunk"] .btn {
    text-transform: uppercase;
    border: 2px solid #ff00ff;
    box-shadow: 0 0 10px #00ffff;
  }

  [data-theme="synthwave"] .btn {
    font-size: 1.2rem;
    border: 1px solid #ff2d95;
    box-shadow: 0 0 15px rgba(255, 45, 149, 0.5);
  }

  [data-theme="night"] .btn {
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  /* Input styles */
  [data-theme="cyberpunk"] .input {
    border: 2px solid #ff00ff;
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
  }

  [data-theme="synthwave"] .input {
    font-size: 1.2rem;
    background: rgba(43, 16, 85, 0.7);
    border: 1px solid #ff2d95;
  }

  [data-theme="retro"] .input {
    border: 2px solid #000;
    box-shadow: 2px 2px 0 #000;
  }

  [data-theme="night"] .input {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Animations */
  @keyframes gridMove {
    0% {
      transform: translateY(0);
    }
    100% {
      transform: translateY(40px);
    }
  }

  @keyframes gridPerspective {
    0% {
      transform: perspective(500px) rotateX(45deg) translateY(0);
    }
    100% {
      transform: perspective(500px) rotateX(45deg) translateY(40px);
    }
  }

  @keyframes dotMove {
    0% {
      transform: translateX(0) translateY(0);
    }
    100% {
      transform: translateX(10px) translateY(10px);
    }
  }

  @keyframes twinkle {
    0% {
      opacity: 0.3;
    }
    100% {
      opacity: 0.7;
    }
  }
}

@layer components {
  .chat-bubble {
    @apply shadow-md backdrop-blur-sm;
  }

  .chat-bubble.chat-bubble-primary {
    @apply bg-gradient-to-br from-primary to-primary/80 text-white;
  }

  .chat-bubble.chat-bubble-secondary {
    @apply bg-gradient-to-br from-secondary to-secondary/80 text-white;
  }

  .chat-bubble.chat-bubble-accent {
    @apply bg-gradient-to-br from-accent/10 to-accent/5 text-base-content;
  }

  .prose pre {
    @apply bg-base-200/50 rounded-lg p-3 my-2;
  }

  .prose code {
    @apply bg-base-200/50 rounded px-1;
  }

  .prose a {
    @apply link link-primary no-underline hover:underline;
  }

  .divider {
    @apply opacity-20;
  }

  .menu li > a {
    @apply py-1 px-2;
  }

  .alert {
    @apply shadow-lg;
  }

  .input-bordered {
    @apply focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary;
  }

  .btn-primary {
    @apply shadow-md hover:shadow-lg transition-shadow duration-200;
  }

  .card {
    @apply backdrop-blur-md bg-base-100/30;
  }

  .chat-bubble-primary {
    @apply text-white;
  }

  .chat-bubble-secondary {
    @apply text-white;
  }

  .btn {
    @apply backdrop-blur-sm;
  }

  .input {
    @apply backdrop-blur-sm bg-base-100/50;
  }
}

/* Custom scrollbar */
.message-container::-webkit-scrollbar {
  @apply w-2;
}

.message-container::-webkit-scrollbar-track {
  @apply bg-transparent;
}

.message-container::-webkit-scrollbar-thumb {
  @apply bg-base-300 rounded-full hover:bg-base-content/20;
}
